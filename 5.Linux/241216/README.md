## 저번 시간에는 무엇을 했을까?  

리눅스(우분투) 워밍업: CLI와 친해지기 바라!  

### CLI란?  

CLI는 **Command Line Interface**의 약자로, **명령어를 입력해 작업을 수행하는 방식**입니다.  

평소에는 마우스로 **그래픽 사용자 인터페이스(GUI)**를 통해 작업했지만,  
CLI에서는 **모든 작업을 명령어로 수행**해야 합니다.  

### 왜 CLI를 배워야 할까?  

1. **실제 개발 환경에서 필수**  
   - 대부분의 서버와 클라우드 환경은 CLI를 기반으로 합니다.  
   - 배포, 서버 관리, 로그 확인 등 실무 작업이 CLI로 이루어집니다.  

2. **제한된 환경에서의 유일한 도구**  
   - 원격 서버, 라즈베리파이 등 GUI를 사용할 수 없는 상황에서 CLI는 필수입니다.  

3. **시스템의 깊은 이해**  
   - CLI 사용을 통해 시스템의 구조와 작동 원리를 더 잘 이해할 수 있습니다.  

## 저번 시간의 목표  

1. **CLI 명령어**를 사용해 기본 파일 작업 수행하기  
2. **Ubuntu 환경**과 주요 명령어 이해하기  
3. CLI 작업에 익숙해지기  

## 저번 시간에 배운 내용  

1. **CLI 기초**  
   - 터미널에서 파일 생성 및 삭제  
   - 터미널에서 코드 작성  

2. **Ubuntu 기초**  
   - **Ubuntu란 무엇인가?**  
   - WSL을 통해 **Ubuntu 설치**하기  
   - Ubuntu의 **디렉토리 구조** 간단하게 이해하기 (`mnt`, `bin` 등)  
   - 주요 명령어 학습: `ls`, `cd`, `mkdir`, `vi`

## 이번 시간의 목표  

1. **계정**과 **권한** 개념을 명확히 이해하기  
2. 내 계정 디렉토리를 만들고, 다른 사용자에게 **권한**을 설정할 수 있다

## 이번 시간의 핵심  

리눅스의 핵심은 각 **계정**의 역할과 그에 따른 **권한 관리**입니다.  

- **사용자 계정 or root 계정**: 계정을 만들고, 계정별 역할을 설정할 수 있습니다.  
- **권한 설정**: 파일과 폴더에 대한 접근 권한을 부여하거나 제한합니다.  

## 이번 시간에 배울 내용  

1. **우분투 디렉토리 구조**  
   - 주요 디렉토리 이해하기: `/`, `/home`, `/etc`, `/var`, `/usr`, `mnt`, `bin` 등등...

2. **root 계정**  
   - 사용자 계정 생성 및 관리  

3. **주요 명령어**  
   - 파일 탐색 및 관리: `ls`, `cd`, `pwd`, `cp`, `mv`  
   - 시스템 관리: `sudo`, `apt`  

## 참고 사항  

오늘은 진도를 빠르게 나갈 예정입니다.  
다소 머리가 아플 수 있으니 집중해 주세요!  

wnqudgus1234@DESK-TOP/mnt/c/windows/system32&
root@DESK-TOP...

[사용자 이름]@[호스트 이름]:[현재 디렉토리]$

### 루트 디렉토리 (/)

모든 파일 및 디렉토리의 최상위 디렉토리.  
하위에 주요 시스템 디렉토리가 포함됨.

- bin : 기본적인 명령어가 저장된 디렉토리
> ex ) cat, chmod, chown, cp, echo, kill, ls, mkdir, ps, pwd...
- mnt : WSL2를 사용하는 사람은 window 파일이 담겨져 있는 공간
- etc : 시스템의 거의 모든 설정파일이 존재하는 디렉토리

   - /etc/sysconfig : 시스템 제어판용 설정파일
   - /etc/passwd : 사용자 관리 설정 파일
   - /etc/hosts : 도메인의 IP를 찾을 때 컴퓨터가 맨 처음 조사하는 파일
   - /etc/ssh : SSH 서비스 담겨있는 디렉토리
   - /etc/skel : 계정 사용자 생성시의 초기화 파일이 저장된 디렉토리 (`adduser`)에서 사용함.

- lib : 커널 모듈과 라이브러리 파일이 위치하는 디렉토리
- var : 애플리케이션 실행중에 데이터를 일시적으로 저장하거나 로그 파일을 저장하는 디렉토리

   - /var/log : 로그 파일 저장 위치

- home : `adduser` 명령어로 새로운 사용자를 생성하면,  
해당 사용자의 ID와 동일한 이름의 디렉토리가 자동으로 생성됨

- ls -al

   - -l : 자세한 형식으로 목록을 표시. 각 파일이나 디렉토리에 대한 정보를 포함

### root 계정

모든 시스템 파일 수정하거나 삭제할 수 있는 권한이 있습니다.  
=> 컴퓨터의 중요한 설정을 바꾼다거나 그런 것

### 사용자 계정(wnqudgus1234@)

일반 사용자 계정은 루트 계정보다는 적은 권한을 가지고 있어요.
사용자가 컴퓨터를 일상적으로 사용하는 계정이므로, 꼭 필요한 권한만을 가집니다.

- wnqudgus
- wnqudgus1234

wnqudgus

vi를 통해서 index.html 만들어서 간단한 프로젝트 만들었어요.  
근데 너무 잘 만들고 아이디어가 너무 좋다보니, 나 외에는 보여주기 싫어요.  

wnqudgus1234

권한 제어 세 가지를 기준으로.

- 읽기가 가능한가?
- 쓰기가 가능한가?
- 실행이 가능한가?

권한만 존재한다면 파일 접근이 가능하다. => 내가 원하는 사용자만 권한을 줄 수 있다(특정 내 디렉토리)

### 사용자 타입

- 루트 사용자 - UID 0
- 시스템 사용자 - UIDs 1~999
- 일반 사용자 - UIDs 1000~  

### 사용자 관련 명령어

- id

현재 사용자의 아이디와 사용자가 속한 그룹의 아이디를 포함한
아이디 관련 정보를 보여줌

`id -u` : 현재 사용자의 아이디를 출력
`id -un` : 현재 사용자의 이름을 출력

- whoami

현재 사용자의 이름을 조회

- users

현재 로그인 되어있는 전체 사용자의 정보를 조회함

### 사용자 생성, 수정, 조회를 위한 명령어

`adduser 사용하고싶은계정이름`

`sudo` => `superuser do` => 만능이 아니라 잘 알고 사용해야 한다.

### /home 그리고 ls -al로 나온 user1 정보의 뜻

drwxr-x--- | 2  | user1  |  user1  | 4096 Dec 16 10:31 user1

- 2 : 디렉토리 내의 하위 항목 수
- 왼쪽의 user1 : 소유자(Owner) 즉 이 디렉토리의 소유자는 user1이라는 뜻
- 오른쪽의 user1 : 그룹(Group) 즉 이 디렉토리가 속한 그룹은 user1이라는 뜻
- 4096 : 디렉토리의 크기(바이트)
- Dec 16 10:31 : 마지막 수정 날짜와 시간
- 맨 끝의 user1 : 파일/디렉토리 이름

### 필터

`grep passwd` : 특정 명령어 앞에 사용하며, 해당 명령의 출력을 필터링 함
ex => ls -al 현재 디렉토리 내의 모든 파일 및 디렉토리 목록
ls -al | grep passwd => 현재 디렉토리 내의 모든 파일 및 디렉토리 목록중에서 passwd이름을 가진
파일 및 폴더 이름을 필터링해서 가져와줘.

**etc/passwd**

user1:x:1004:1004:user1,1004,,:/home/user1:/bin/bash

- user1 : 사용자이름
- 1004 : 사용자 Id
- 1004 : 그룹 Id
- ,,, : 코멘트 혹은 풀네임
- /home/user1 : 사용자 디렉토리 / 홈 디렉토리
- /bin/bash : shell 경로

bash : (Bourne Again SHell) => Unix Shell
zsh => oh-my-zsh

### 사용자 계정 정보 수정

- usermod

Linux/Unix 시스템에서 사용자의 계정 정보를 수정하는 명령어.  
user(사용자) + modify(수정) => usermod

sudo 권한이 필요함.

```sh
$ sudo usermod [옵션] [사용자이름]
```
- g

현재 계정을 다른 그룹으로 속할 수 있게 변경할 경우

```sh
$ sudo usermod -g [그룹이름] [사용자명]
$ sudo usermod -g user3 user2 or user1
```


### 사용자 계정 삭제

```sh
$ sudo userdel [사용자이름] => 가급적 추천 X 해당 명령어는 /etc/passwd의 해당하는 줄을 삭제할 뿐임. /home/user2의 디렉토리까지 삭제가 안됨

결론: 확실하게 삭제가 안됌
```

```sh
$ sudo userdel -r [사용자이름]
```

### 사용자 그룹

리눅스에서 그룹을 통해서 파일에 관한 접근 권한을 제한할 수 있음.
=> 우리가 계정을 하나 만들면, 최소한의 하나의 그룹이 생성됨
ex => user1 사용자 계정 만들면 user1이라는 그룹이 1:1로 만들어짐  

## 상황 부여

user3이라는 그룹을 만들고 거기에 user1, user2를 속하게 하고 싶다.  

- groupadd

sudo 권한이 필요함.  
새로운 그룹을 생성할 수 있습니다.

- groupmod

sudo 권한이 필요함.  
그룹 정보를 변경합니다.

```sh
$ sudo groupmod -aG [변경할이름] [기존이름]
$ sudo groupmod -aG user4 user3
```

- groupdel

그룹을 삭제할 수 있습니다.

```sh
$ sudo groupdel [삭제할그룹이름]
$ sudo groupdel user3
```


```sh
user1project
ㄴ public
   ㄴ js
   ㄴ css
ㄴ index.html
```

### 파일의 접근권한 설정하기

-rw-r--r-- 1 user1 user3  153 Dec 16 13:31 index.html

`- rw- r-- r--`

1. 맨 앞에 d나 `-`는 파일 타입에 대한 기호입니다.

1. - : normal file 일반파일
2. d : directory
3. link : 파일 바로가기와 비슷
4. p : named pipe
5. s : socket
6. c : chracter device
7. b : block device

`rw- r-- r--`

- r : 읽기(4)
- w : 쓰기(2)
- x : 실행(1)

rw- : 소유자에 대한 설정 => 소유자는 읽고 쓸 수 있다.
r-- : 그룹에 대한 설정 => 소유자가 속한 그룹은 index.html을 읽을 수만 있다.
r-- : 기타 사용자에 대한 설정 => 기타 사용자는 읽을 수만 있다.

- 권한 수정 명령어

chmod

`rw- r-- r--` => `rwx rwx rwx`

sudo chmod 777 ./index.html

`r-x r-x r-x` => chmod 555 ./index.html

### sudo 권한주기

`/etc/sudoers`

```sh
vi /etc/sudoers

[sudo를부여할계정이름] ALL=(ALL:ALL) ALL
root  ALL=(ALL:ALL) ALL
user1 ALL=(ALL:ALL) ALL
```