# WebSocket: 실시간 양방향 통신 프로토콜

## 1. WebSocket의 특징

- `ws://` 또는 `wss://` 프로토콜을 사용하여 연결을 한 번 맺으면 유지됨.
- 서버와 클라이언트가 자유롭게 데이터를 주고받을 수 있음 (양방향 통신 가능).
- 요청-응답 규칙을 가지며 이벤트 기반으로 동작.
- 한 번의 핸드셰이크 후 추가적인 연결 과정 없이 지속적인 데이터 송수신 가능.
=> HTTP 핸드셰이크가 아닌, WS 핸드셰이크가 존재.

우리는 로컬 환경에서 개발하니, `ws://` 프로토콜을 사용할 겁니다.

## 2. WebSocket의 통신 흐름

### WebSocket 통신 과정

1. 클라이언트가 WebSocket 서버에 연결 요청 (`ws://` 또는 `wss://` 프로토콜 사용)
2. 서버가 연결을 승인하면 WebSocket 연결이 유지됨
3. 서버와 클라이언트가 필요할 때마다 실시간으로 데이터를 주고받음
4. 특정 클라이언트 또는 모든 클라이언트에게 메시지 브로드캐스트 가능
5. 클라이언트 또는 서버가 필요할 때만 연결을 해제

## 3. WebSocket 프로토콜 예제 (브로드캐스트 방식)

### 웹소켓을 활용한 임시 실시간 채팅 서버 구현 흐름

1. 3000번 포트에 여러 클라이언트가 WebSocket으로 접속 중.
2. 어느 한 클라이언트가 메시지를 보냄.
3. 서버는 메시지를 받은 후, 현재 접속한 모든 클라이언트에게 브로드캐스트(전송).
4. 모든 클라이언트가 서버로부터 메시지를 받아 실시간으로 표시.

## 3. 요약

1. HTTP는 단방향 요청-응답 방식이라 실시간 데이터 전송이 어려움  
2. WebSocket은 한 번 연결하면 유지되며, 양방향 실시간 데이터 송수신이 가능  
3. 여러 클라이언트가 동시에 특정 포트에서 메시지를 주고받을 수 있음  
4. 브로드캐스트 기능을 활용하면 채팅, 실시간 알림, 주식 데이터 업데이트 등에 유용
