## 저번 시간에는 뭐했을까?

`express와 데이터베이스를 연결하여 게시판 구현`

근데 이제 데이터베이스 디렉토리 구조를 곁들인

그리고 디렉토리 설계를 할겁니다.  
어떤 기준으로? `역할과 책임 분리`

### **저번 시간의 핵심**  

이러한 구조가 실제로 어떤 이점을 제공하는가?
역할과 책임을 왜 이렇게 밥먹듯 할까?를 알게 된다.(알아야 한다.)

**역할과 책임 분리의 필요성 이해**

   - **repository**: 데이터베이스와 직접 통신(SQL문 실행).  
   - **services**: 로직 처리와 데이터 가공.  
   - **controllers**: 클라이언트 요청과 응답 관리.

각각의 역할을 분리함으로써 **유지보수성, 가독성, 재사용성**을 높입니다.  

### **저번 시간의 목차**  

**디렉토리 구조 설계: 역할과 책임 분리**  

### 시간이 남는다면?  

저번 시간에 Express와 MySQL(데이터베이스)를 연결하여 Create, Read를 구현하였으니,  
디렉토리 구조 설계에 따라서 나머지 Update를 구현할겁니다.  

1. **Update 구현**  

   - HTTP 메서드로 요청을 처리하는 API 작성  
   - SQL문 작성과 데이터베이스 연동  

### Delete는요?

실습이 있었습니다.  

## 이번 시간에는 뭐할까?  

CRUD 완성도 높이기.

게시판과 댓글 기능을 구현하며, 발생할 수 있는 다양한 **예외적인 상황**에 대해 다룹니다.  
근데 예외가 뭐지?

### 예외란?  

우리가 프로그래밍에서 이야기하는 **예외**는 "정상적이지 않은 상황"을 뜻합니다.  
이번 수업에서는 다음과 같은 상황들을 예외로 다룹니다  

- **Input 검증**: 입력 값이 비어 있거나 올바르지 않은 경우.  
- **인증**: 요청한 사용자가 로그인된 사용자임을 확인해야 하는 경우.  

이러한 예외 처리의 핵심은 "검증"에 있습니다.  
그렇다면, **검증의 역할과 책임을 분리**하기 위해 어떤 디렉토리를 추가할까요?  

바로, **미들웨어**입니다.

## 이번 시간의 핵심  

1. **미들웨어의 역할과 필요성**  

   - 요청 데이터 검증 및 에러 처리를 미들웨어로 분리하여 코드의 가독성과 재사용성을 높입니다.  
   - CRUD 구현의 필수 요소로 **미들웨어**를 이해하고 적용하는 법을 배웁니다.  

2. **디렉토리 구조 추가 및 설계**  

   - `controller`, `service`, `repository`, `middleware` 디렉토리를 나누어 **역할과 책임**을 분리합니다.  

## 이번 시간의 목차

1. **미들웨어 추가하기**  

   - **유효성 검증**: 댓글 내용(`content`)이 비어 있지 않도록 확인  
   - **에러 처리**: 서버 에러와 클라이언트 에러를 구분하여 응답  
   - 이를 통해 `middleware` 디렉토리를 생성하고, 역할 분리를 실습합니다.  

2. **디렉토리 구조 설계**  

   - 평가 기준에 맞춘 디렉토리 구조 설계  
   - `controller`, `service`, `repository`, `middleware` 각 디렉토리의 역할 정리  

## 오늘의 목표

- **댓글 기능 CRUD**를 완벽히 구현하여, 평가 항목에서 높은 점수를 받을 수 있도록 준비합니다.  
- **미들웨어와 디렉토리 설계**를 통해 역할 분리의 중요성을 체득합니다.  